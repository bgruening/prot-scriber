<!DOCTYPE html>
<html>
  <head>
    <style>

    .refWords { 
      color: #377EB8;
      font-weight: bold;
    }
    .truePos { 
      color: #4DAF4A;
      font-weight: bold;
    }
    .falsePos { 
      color: #E41A1C;
      font-weight: bold;
    }
    .naHrd {
      color: #984EA3;
      font-weight: bold;
    }
    .small {
      font-size: 10pt;
    }
    body {
      font-size: 14pt;
    }
    dd {
      word-spacing: 2px;
    }

    </style>
  </head>
  <body>

    <div id="data-container">
      <% for (prot.id in unique(ps.hrd.df$Protein.ID)) { %>
        <% prot.hrds = ps.hrd.df[which(ps.hrd.df$Protein.ID == prot.id),] %>
        <% prot.ref = ps.hrd.ref[[tolower(prot.id)]] %>
        <% prot.methods = unique(ps.hrd.df$Method) %>
        <h4><%= prot.id %></h4>
        <dl>
          <dt>Reference Words</dt>
          <dd><span class="refWords"><%= paste(prot.ref, collapse=" ") %></span></dd>

          <dt>Best achievable F-Score</dt>
          <dd><%= sprintf("%.3f", prot.hrds$F.Score.best.possible[[1]]) %></dd>

          <dt>Best achievable MCC</dt>
          <dd><%= sprintf("%.3f", prot.hrds$MCC.best.possible[[1]]) %></dd>

          <% for (ps.method in prot.methods ) { %>
            <% ps.m.df = prot.hrds[which(prot.hrds$Method == ps.method),] %>
            <dt><%= ps.method %> <span class="small">(F-Score: <%= sprintf("%.3f", ps.m.df$F.Score) %>, F-Score.relative: <%= sprintf("%.3f", ps.m.df$F.Score.relative) %>, precision: <%= sprintf("%.3f", ps.m.df$precision) %>, recall: <%= sprintf("%.3f", ps.m.df$recall) %>, MCC: <%= sprintf("%.3f", ps.m.df$MCC) %>, MCC.relative: <%= sprintf("%.3f", ps.m.df$MCC.relative) %>)</span></dt>
              <dd><%= hrdToHtmlHelper(ps.m.df$HRD, prot.ref) %></dd>
          <% } %>

        </dl>
      <% } %>
    </div>
  </body>
</html>
